"use strict";var ua=Object.create;var Ie=Object.defineProperty;var la=Object.getOwnPropertyDescriptor;var Ea=Object.getOwnPropertyNames;var Ta=Object.getPrototypeOf,da=Object.prototype.hasOwnProperty;var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ca=(e,t)=>{for(var r in t)Ie(e,r,{get:t[r],enumerable:!0})},Pt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ea(t))!da.call(e,o)&&o!==r&&Ie(e,o,{get:()=>t[o],enumerable:!(n=la(t,o))||n.enumerable});return e};var K=(e,t,r)=>(r=e!=null?ua(Ta(e)):{},Pt(t||!e||!e.__esModule?Ie(r,"default",{value:e,enumerable:!0}):r,e)),Ra=e=>Pt(Ie({},"__esModule",{value:!0}),e);var _t=u((qe,Mt)=>{"use strict";function $(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(r){return typeof r}:$=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$(e)}(function(e){var t=arguments,r=function(){var v=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,f=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,N=/[^-+\dA-Z]/g;return function(c,L,C,q){if(t.length===1&&g(c)==="string"&&!/\d/.test(c)&&(L=c,c=void 0),c=c||c===0?c:new Date,c instanceof Date||(c=new Date(c)),isNaN(c))throw TypeError("Invalid date");L=String(r.masks[L]||L||r.masks.default);var G=L.slice(0,4);(G==="UTC:"||G==="GMT:")&&(L=L.slice(4),C=!0,G==="GMT:"&&(q=!0));var b=function(){return C?"getUTC":"get"},P=function(){return c[b()+"Date"]()},U=function(){return c[b()+"Day"]()},M=function(){return c[b()+"Month"]()},B=function(){return c[b()+"FullYear"]()},w=function(){return c[b()+"Hours"]()},Y=function(){return c[b()+"Minutes"]()},s=function(){return c[b()+"Seconds"]()},T=function(){return c[b()+"Milliseconds"]()},A=function(){return C?0:c.getTimezoneOffset()},I=function(){return E(c)},p=function(){return d(c)},l={d:function(){return P()},dd:function(){return n(P())},ddd:function(){return r.i18n.dayNames[U()]},DDD:function(){return o({y:B(),m:M(),d:P(),_:b(),dayName:r.i18n.dayNames[U()],short:!0})},dddd:function(){return r.i18n.dayNames[U()+7]},DDDD:function(){return o({y:B(),m:M(),d:P(),_:b(),dayName:r.i18n.dayNames[U()+7]})},m:function(){return M()+1},mm:function(){return n(M()+1)},mmm:function(){return r.i18n.monthNames[M()]},mmmm:function(){return r.i18n.monthNames[M()+12]},yy:function(){return String(B()).slice(2)},yyyy:function(){return n(B(),4)},h:function(){return w()%12||12},hh:function(){return n(w()%12||12)},H:function(){return w()},HH:function(){return n(w())},M:function(){return Y()},MM:function(){return n(Y())},s:function(){return s()},ss:function(){return n(s())},l:function(){return n(T(),3)},L:function(){return n(Math.floor(T()/10))},t:function(){return w()<12?r.i18n.timeNames[0]:r.i18n.timeNames[1]},tt:function(){return w()<12?r.i18n.timeNames[2]:r.i18n.timeNames[3]},T:function(){return w()<12?r.i18n.timeNames[4]:r.i18n.timeNames[5]},TT:function(){return w()<12?r.i18n.timeNames[6]:r.i18n.timeNames[7]},Z:function(){return q?"GMT":C?"UTC":(String(c).match(f)||[""]).pop().replace(N,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(A()>0?"-":"+")+n(Math.floor(Math.abs(A())/60)*100+Math.abs(A())%60,4)},p:function(){return(A()>0?"-":"+")+n(Math.floor(Math.abs(A())/60),2)+":"+n(Math.floor(Math.abs(A())%60),2)},S:function(){return["th","st","nd","rd"][P()%10>3?0:(P()%100-P()%10!=10)*P()%10]},W:function(){return I()},WW:function(){return n(I())},N:function(){return p()}};return L.replace(v,function(i){return i in l?l[i]():i.slice(1,i.length-1)})}}();r.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},r.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var n=function(f,N){for(f=String(f),N=N||2;f.length<N;)f="0"+f;return f},o=function(f){var N=f.y,c=f.m,L=f.d,C=f._,q=f.dayName,G=f.short,b=G===void 0?!1:G,P=new Date,U=new Date;U.setDate(U[C+"Date"]()-1);var M=new Date;M.setDate(M[C+"Date"]()+1);var B=function(){return P[C+"Date"]()},w=function(){return P[C+"Month"]()},Y=function(){return P[C+"FullYear"]()},s=function(){return U[C+"Date"]()},T=function(){return U[C+"Month"]()},A=function(){return U[C+"FullYear"]()},I=function(){return M[C+"Date"]()},p=function(){return M[C+"Month"]()},l=function(){return M[C+"FullYear"]()};return Y()===N&&w()===c&&B()===L?b?"Tdy":"Today":A()===N&&T()===c&&s()===L?b?"Ysd":"Yesterday":l()===N&&p()===c&&I()===L?b?"Tmw":"Tomorrow":q},E=function(f){var N=new Date(f.getFullYear(),f.getMonth(),f.getDate());N.setDate(N.getDate()-(N.getDay()+6)%7+3);var c=new Date(N.getFullYear(),0,4);c.setDate(c.getDate()-(c.getDay()+6)%7+3);var L=N.getTimezoneOffset()-c.getTimezoneOffset();N.setHours(N.getHours()-L);var C=(N-c)/(864e5*7);return 1+Math.floor(C)},d=function(f){var N=f.getDay();return N===0&&(N=7),N},g=function(f){return f===null?"null":f===void 0?"undefined":$(f)!=="object"?$(f):Array.isArray(f)?"array":{}.toString.call(f).slice(8,-1).toLowerCase()};typeof define=="function"&&define.amd?define(function(){return r}):(typeof qe>"u"?"undefined":$(qe))==="object"?Mt.exports=r:e.dateFormat=r})(void 0)});var Qe=u((UT,Qt)=>{var ha=typeof global=="object"&&global&&global.Object===Object&&global;Qt.exports=ha});var W=u((wT,jt)=>{var ba=Qe(),Da=typeof self=="object"&&self&&self.Object===Object&&self,va=ba||Da||Function("return this")();jt.exports=va});var ye=u((xT,zt)=>{var Pa=W(),Ma=Pa.Symbol;zt.exports=Ma});var $t=u((HT,Jt)=>{function _a(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}Jt.exports=_a});var je=u((FT,Zt)=>{var Ua=Array.isArray;Zt.exports=Ua});var nr=u((GT,rr)=>{var er=ye(),tr=Object.prototype,wa=tr.hasOwnProperty,xa=tr.toString,Ee=er?er.toStringTag:void 0;function Ha(e){var t=wa.call(e,Ee),r=e[Ee];try{e[Ee]=void 0;var n=!0}catch{}var o=xa.call(e);return n&&(t?e[Ee]=r:delete e[Ee]),o}rr.exports=Ha});var ar=u((BT,or)=>{var Fa=Object.prototype,Ga=Fa.toString;function Ba(e){return Ga.call(e)}or.exports=Ba});var re=u((VT,ur)=>{var ir=ye(),Va=nr(),ka=ar(),Wa="[object Null]",qa="[object Undefined]",sr=ir?ir.toStringTag:void 0;function Ya(e){return e==null?e===void 0?qa:Wa:sr&&sr in Object(e)?Va(e):ka(e)}ur.exports=Ya});var Te=u((kT,lr)=>{function Xa(e){return e!=null&&typeof e=="object"}lr.exports=Xa});var ze=u((WT,Er)=>{var Ka=re(),Qa=Te(),ja="[object Symbol]";function za(e){return typeof e=="symbol"||Qa(e)&&Ka(e)==ja}Er.exports=za});var Je=u((qT,Nr)=>{var Tr=ye(),Ja=$t(),$a=je(),Za=ze(),ei=1/0,dr=Tr?Tr.prototype:void 0,cr=dr?dr.toString:void 0;function Rr(e){if(typeof e=="string")return e;if($a(e))return Ja(e,Rr)+"";if(Za(e))return cr?cr.call(e):"";var t=e+"";return t=="0"&&1/e==-ei?"-0":t}Nr.exports=Rr});var fr=u((YT,pr)=>{function ti(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var E=Array(o);++n<o;)E[n]=e[n+t];return E}pr.exports=ti});var Sr=u((XT,Ar)=>{var ri=fr();function ni(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:ri(e,t,r)}Ar.exports=ni});var Or=u((KT,Ir)=>{function oi(e,t,r,n){for(var o=e.length,E=r+(n?1:-1);n?E--:++E<o;)if(t(e[E],E,e))return E;return-1}Ir.exports=oi});var yr=u((QT,gr)=>{function ai(e){return e!==e}gr.exports=ai});var mr=u((jT,Cr)=>{function ii(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}Cr.exports=ii});var hr=u((zT,Lr)=>{var si=Or(),ui=yr(),li=mr();function Ei(e,t,r){return t===t?li(e,t,r):si(e,ui,r)}Lr.exports=Ei});var Dr=u((JT,br)=>{var Ti=hr();function di(e,t){for(var r=e.length;r--&&Ti(t,e[r],0)>-1;);return r}br.exports=di});var Pr=u(($T,vr)=>{function ci(e){return e.split("")}vr.exports=ci});var _r=u((ZT,Mr)=>{var Ri="\\ud800-\\udfff",Ni="\\u0300-\\u036f",pi="\\ufe20-\\ufe2f",fi="\\u20d0-\\u20ff",Ai=Ni+pi+fi,Si="\\ufe0e\\ufe0f",Ii="\\u200d",Oi=RegExp("["+Ii+Ri+Ai+Si+"]");function gi(e){return Oi.test(e)}Mr.exports=gi});var Vr=u((ed,Br)=>{var Ur="\\ud800-\\udfff",yi="\\u0300-\\u036f",Ci="\\ufe20-\\ufe2f",mi="\\u20d0-\\u20ff",Li=yi+Ci+mi,hi="\\ufe0e\\ufe0f",bi="["+Ur+"]",$e="["+Li+"]",Ze="\\ud83c[\\udffb-\\udfff]",Di="(?:"+$e+"|"+Ze+")",wr="[^"+Ur+"]",xr="(?:\\ud83c[\\udde6-\\uddff]){2}",Hr="[\\ud800-\\udbff][\\udc00-\\udfff]",vi="\\u200d",Fr=Di+"?",Gr="["+hi+"]?",Pi="(?:"+vi+"(?:"+[wr,xr,Hr].join("|")+")"+Gr+Fr+")*",Mi=Gr+Fr+Pi,_i="(?:"+[wr+$e+"?",$e,xr,Hr,bi].join("|")+")",Ui=RegExp(Ze+"(?="+Ze+")|"+_i+Mi,"g");function wi(e){return e.match(Ui)||[]}Br.exports=wi});var Wr=u((td,kr)=>{var xi=Pr(),Hi=_r(),Fi=Vr();function Gi(e){return Hi(e)?Fi(e):xi(e)}kr.exports=Gi});var Ce=u((rd,qr)=>{var Bi=Je();function Vi(e){return e==null?"":Bi(e)}qr.exports=Vi});var Kr=u((nd,Xr)=>{var ki=Je(),Wi=Sr(),qi=Dr(),Yr=Wr(),Yi=Ce(),Xi=/\s+$/;function Ki(e,t,r){if(e=Yi(e),e&&(r||t===void 0))return e.replace(Xi,"");if(!e||!(t=ki(t)))return e;var n=Yr(e),o=qi(n,Yr(t))+1;return Wi(n,0,o).join("")}Xr.exports=Ki});var Le=u((me,Qr)=>{"use strict";me.__esModule=!0;me.default={WHITESPACE:"whitespace",WORD:"word",STRING:"string",RESERVED:"reserved",RESERVED_TOPLEVEL:"reserved-toplevel",RESERVED_NEWLINE:"reserved-newline",OPERATOR:"operator",OPEN_PAREN:"open-paren",CLOSE_PAREN:"close-paren",LINE_COMMENT:"line-comment",BLOCK_COMMENT:"block-comment",NUMBER:"number",PLACEHOLDER:"placeholder"};Qr.exports=me.default});var zr=u((od,jr)=>{var Qi=9007199254740991,ji=Math.floor;function zi(e,t){var r="";if(!e||t<1||t>Qi)return r;do t%2&&(r+=e),t=ji(t/2),t&&(e+=e);while(t);return r}jr.exports=zi});var $r=u((ad,Jr)=>{function Ji(e,t){return e===t||e!==e&&t!==t}Jr.exports=Ji});var de=u((id,Zr)=>{function $i(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}Zr.exports=$i});var et=u((sd,en)=>{var Zi=re(),es=de(),ts="[object AsyncFunction]",rs="[object Function]",ns="[object GeneratorFunction]",os="[object Proxy]";function as(e){if(!es(e))return!1;var t=Zi(e);return t==rs||t==ns||t==ts||t==os}en.exports=as});var tt=u((ud,tn)=>{var is=9007199254740991;function ss(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=is}tn.exports=ss});var rt=u((ld,rn)=>{var us=et(),ls=tt();function Es(e){return e!=null&&ls(e.length)&&!us(e)}rn.exports=Es});var on=u((Ed,nn)=>{var Ts=9007199254740991,ds=/^(?:0|[1-9]\d*)$/;function cs(e,t){var r=typeof e;return t=t??Ts,!!t&&(r=="number"||r!="symbol"&&ds.test(e))&&e>-1&&e%1==0&&e<t}nn.exports=cs});var sn=u((Td,an)=>{var Rs=$r(),Ns=rt(),ps=on(),fs=de();function As(e,t,r){if(!fs(r))return!1;var n=typeof t;return(n=="number"?Ns(r)&&ps(t,r.length):n=="string"&&t in r)?Rs(r[t],e):!1}an.exports=As});var Tn=u((dd,En)=>{var un=de(),Ss=ze(),ln=0/0,Is=/^\s+|\s+$/g,Os=/^[-+]0x[0-9a-f]+$/i,gs=/^0b[01]+$/i,ys=/^0o[0-7]+$/i,Cs=parseInt;function ms(e){if(typeof e=="number")return e;if(Ss(e))return ln;if(un(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=un(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Is,"");var r=gs.test(e);return r||ys.test(e)?Cs(e.slice(2),r?2:8):Os.test(e)?ln:+e}En.exports=ms});var Rn=u((cd,cn)=>{var Ls=Tn(),dn=1/0,hs=17976931348623157e292;function bs(e){if(!e)return e===0?e:0;if(e=Ls(e),e===dn||e===-dn){var t=e<0?-1:1;return t*hs}return e===e?e:0}cn.exports=bs});var pn=u((Rd,Nn)=>{var Ds=Rn();function vs(e){var t=Ds(e),r=t%1;return t===t?r?t-r:t:0}Nn.exports=vs});var An=u((Nd,fn)=>{var Ps=zr(),Ms=sn(),_s=pn(),Us=Ce();function ws(e,t,r){return(r?Ms(e,t,r):t===void 0)?t=1:t=_s(t),Ps(Us(e),t)}fn.exports=ws});var In=u((pd,Sn)=>{function xs(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}Sn.exports=xs});var yn=u((he,gn)=>{"use strict";he.__esModule=!0;var Hs=An(),Fs=On(Hs),Gs=In(),Bs=On(Gs);function On(e){return e&&e.__esModule?e:{default:e}}function Vs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var nt="top-level",ks="block-level",Ws=function(){function e(t){Vs(this,e),this.indent=t||"  ",this.indentTypes=[]}return e.prototype.getIndent=function(){return(0,Fs.default)(this.indent,this.indentTypes.length)},e.prototype.increaseToplevel=function(){this.indentTypes.push(nt)},e.prototype.increaseBlockLevel=function(){this.indentTypes.push(ks)},e.prototype.decreaseTopLevel=function(){(0,Bs.default)(this.indentTypes)===nt&&this.indentTypes.pop()},e.prototype.decreaseBlockLevel=function(){for(;this.indentTypes.length>0;){var r=this.indentTypes.pop();if(r!==nt)break}},e}();he.default=Ws;gn.exports=he.default});var mn=u((be,Cn)=>{"use strict";be.__esModule=!0;var qs=Le(),ne=Ys(qs);function Ys(e){return e&&e.__esModule?e:{default:e}}function Xs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ks=50,Qs=function(){function e(){Xs(this,e),this.level=0}return e.prototype.beginIfPossible=function(r,n){this.level===0&&this.isInlineBlock(r,n)?this.level=1:this.level>0?this.level++:this.level=0},e.prototype.end=function(){this.level--},e.prototype.isActive=function(){return this.level>0},e.prototype.isInlineBlock=function(r,n){for(var o=0,E=0,d=n;d<r.length;d++){var g=r[d];if(o+=g.value.length,o>Ks)return!1;if(g.type===ne.default.OPEN_PAREN)E++;else if(g.type===ne.default.CLOSE_PAREN&&(E--,E===0))return!0;if(this.isForbiddenToken(g))return!1}return!1},e.prototype.isForbiddenToken=function(r){var n=r.type,o=r.value;return n===ne.default.RESERVED_TOPLEVEL||n===ne.default.RESERVED_NEWLINE||n===ne.default.COMMENT||n===ne.default.BLOCK_COMMENT||o===";"},e}();be.default=Qs;Cn.exports=be.default});var hn=u((De,Ln)=>{"use strict";De.__esModule=!0;function js(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var zs=function(){function e(t){js(this,e),this.params=t,this.index=0}return e.prototype.get=function(r){var n=r.key,o=r.value;return this.params?n?this.params[n]:this.params[this.index++]:o},e}();De.default=zs;Ln.exports=De.default});var Re=u((Pe,bn)=>{"use strict";Pe.__esModule=!0;var Js=Kr(),ve=ce(Js),$s=Le(),H=ce($s),Zs=yn(),eu=ce(Zs),tu=mn(),ru=ce(tu),nu=hn(),ou=ce(nu);function ce(e){return e&&e.__esModule?e:{default:e}}function au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var iu=function(){function e(t,r){au(this,e),this.cfg=t||{},this.indentation=new eu.default(this.cfg.indent),this.inlineBlock=new ru.default,this.params=new ou.default(this.cfg.params),this.tokenizer=r,this.previousReservedWord={},this.tokens=[],this.index=0}return e.prototype.format=function(r){this.tokens=this.tokenizer.tokenize(r);var n=this.getFormattedQueryFromTokens();return n.trim()},e.prototype.getFormattedQueryFromTokens=function(){var r=this,n="";return this.tokens.forEach(function(o,E){r.index=E,o.type===H.default.WHITESPACE||(o.type===H.default.LINE_COMMENT?n=r.formatLineComment(o,n):o.type===H.default.BLOCK_COMMENT?n=r.formatBlockComment(o,n):o.type===H.default.RESERVED_TOPLEVEL?(n=r.formatToplevelReservedWord(o,n),r.previousReservedWord=o):o.type===H.default.RESERVED_NEWLINE?(n=r.formatNewlineReservedWord(o,n),r.previousReservedWord=o):o.type===H.default.RESERVED?(n=r.formatWithSpaces(o,n),r.previousReservedWord=o):o.type===H.default.OPEN_PAREN?n=r.formatOpeningParentheses(o,n):o.type===H.default.CLOSE_PAREN?n=r.formatClosingParentheses(o,n):o.type===H.default.PLACEHOLDER?n=r.formatPlaceholder(o,n):o.value===","?n=r.formatComma(o,n):o.value===":"?n=r.formatWithSpaceAfter(o,n):o.value==="."?n=r.formatWithoutSpaces(o,n):o.value===";"?n=r.formatQuerySeparator(o,n):n=r.formatWithSpaces(o,n))}),n},e.prototype.formatLineComment=function(r,n){return this.addNewline(n+r.value)},e.prototype.formatBlockComment=function(r,n){return this.addNewline(this.addNewline(n)+this.indentComment(r.value))},e.prototype.indentComment=function(r){return r.replace(/\n/g,`
`+this.indentation.getIndent())},e.prototype.formatToplevelReservedWord=function(r,n){return this.indentation.decreaseTopLevel(),n=this.addNewline(n),this.indentation.increaseToplevel(),n+=this.equalizeWhitespace(r.value),this.addNewline(n)},e.prototype.formatNewlineReservedWord=function(r,n){return this.addNewline(n)+this.equalizeWhitespace(r.value)+" "},e.prototype.equalizeWhitespace=function(r){return r.replace(/\s+/g," ")},e.prototype.formatOpeningParentheses=function(r,n){var o=[H.default.WHITESPACE,H.default.OPEN_PAREN,H.default.LINE_COMMENT];return o.includes(this.previousToken().type)||(n=(0,ve.default)(n)),n+=r.value,this.inlineBlock.beginIfPossible(this.tokens,this.index),this.inlineBlock.isActive()||(this.indentation.increaseBlockLevel(),n=this.addNewline(n)),n},e.prototype.formatClosingParentheses=function(r,n){return this.inlineBlock.isActive()?(this.inlineBlock.end(),this.formatWithSpaceAfter(r,n)):(this.indentation.decreaseBlockLevel(),this.formatWithSpaces(r,this.addNewline(n)))},e.prototype.formatPlaceholder=function(r,n){return n+this.params.get(r)+" "},e.prototype.formatComma=function(r,n){return n=this.trimTrailingWhitespace(n)+r.value+" ",this.inlineBlock.isActive()||/^LIMIT$/i.test(this.previousReservedWord.value)?n:this.addNewline(n)},e.prototype.formatWithSpaceAfter=function(r,n){return this.trimTrailingWhitespace(n)+r.value+" "},e.prototype.formatWithoutSpaces=function(r,n){return this.trimTrailingWhitespace(n)+r.value},e.prototype.formatWithSpaces=function(r,n){return n+r.value+" "},e.prototype.formatQuerySeparator=function(r,n){return this.trimTrailingWhitespace(n)+r.value+`
`},e.prototype.addNewline=function(r){return(0,ve.default)(r)+`
`+this.indentation.getIndent()},e.prototype.trimTrailingWhitespace=function(r){return this.previousNonWhitespaceToken().type===H.default.LINE_COMMENT?(0,ve.default)(r)+`
`:(0,ve.default)(r)},e.prototype.previousNonWhitespaceToken=function(){for(var r=1;this.previousToken(r).type===H.default.WHITESPACE;)r++;return this.previousToken(r)},e.prototype.previousToken=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.tokens[this.index-r]||{}},e}();Pe.default=iu;bn.exports=Pe.default});var ot=u((fd,Dn)=>{var su=Object.prototype;function uu(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||su;return e===r}Dn.exports=uu});var Pn=u((Ad,vn)=>{function lu(e,t){return function(r){return e(t(r))}}vn.exports=lu});var _n=u((Sd,Mn)=>{var Eu=Pn(),Tu=Eu(Object.keys,Object);Mn.exports=Tu});var wn=u((Id,Un)=>{var du=ot(),cu=_n(),Ru=Object.prototype,Nu=Ru.hasOwnProperty;function pu(e){if(!du(e))return cu(e);var t=[];for(var r in Object(e))Nu.call(e,r)&&r!="constructor"&&t.push(r);return t}Un.exports=pu});var Hn=u((Od,xn)=>{var fu=W(),Au=fu["__core-js_shared__"];xn.exports=Au});var Bn=u((gd,Gn)=>{var at=Hn(),Fn=function(){var e=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Su(e){return!!Fn&&Fn in e}Gn.exports=Su});var it=u((yd,Vn)=>{var Iu=Function.prototype,Ou=Iu.toString;function gu(e){if(e!=null){try{return Ou.call(e)}catch{}try{return e+""}catch{}}return""}Vn.exports=gu});var Wn=u((Cd,kn)=>{var yu=et(),Cu=Bn(),mu=de(),Lu=it(),hu=/[\\^$.*+?()[\]{}|]/g,bu=/^\[object .+?Constructor\]$/,Du=Function.prototype,vu=Object.prototype,Pu=Du.toString,Mu=vu.hasOwnProperty,_u=RegExp("^"+Pu.call(Mu).replace(hu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Uu(e){if(!mu(e)||Cu(e))return!1;var t=yu(e)?_u:bu;return t.test(Lu(e))}kn.exports=Uu});var Yn=u((md,qn)=>{function wu(e,t){return e?.[t]}qn.exports=wu});var oe=u((Ld,Xn)=>{var xu=Wn(),Hu=Yn();function Fu(e,t){var r=Hu(e,t);return xu(r)?r:void 0}Xn.exports=Fu});var Qn=u((hd,Kn)=>{var Gu=oe(),Bu=W(),Vu=Gu(Bu,"DataView");Kn.exports=Vu});var zn=u((bd,jn)=>{var ku=oe(),Wu=W(),qu=ku(Wu,"Map");jn.exports=qu});var $n=u((Dd,Jn)=>{var Yu=oe(),Xu=W(),Ku=Yu(Xu,"Promise");Jn.exports=Ku});var eo=u((vd,Zn)=>{var Qu=oe(),ju=W(),zu=Qu(ju,"Set");Zn.exports=zu});var ro=u((Pd,to)=>{var Ju=oe(),$u=W(),Zu=Ju($u,"WeakMap");to.exports=Zu});var Eo=u((Md,lo)=>{var st=Qn(),ut=zn(),lt=$n(),Et=eo(),Tt=ro(),uo=re(),ae=it(),no="[object Map]",el="[object Object]",oo="[object Promise]",ao="[object Set]",io="[object WeakMap]",so="[object DataView]",tl=ae(st),rl=ae(ut),nl=ae(lt),ol=ae(Et),al=ae(Tt),z=uo;(st&&z(new st(new ArrayBuffer(1)))!=so||ut&&z(new ut)!=no||lt&&z(lt.resolve())!=oo||Et&&z(new Et)!=ao||Tt&&z(new Tt)!=io)&&(z=function(e){var t=uo(e),r=t==el?e.constructor:void 0,n=r?ae(r):"";if(n)switch(n){case tl:return so;case rl:return no;case nl:return oo;case ol:return ao;case al:return io}return t});lo.exports=z});var co=u((_d,To)=>{var il=re(),sl=Te(),ul="[object Arguments]";function ll(e){return sl(e)&&il(e)==ul}To.exports=ll});var fo=u((Ud,po)=>{var Ro=co(),El=Te(),No=Object.prototype,Tl=No.hasOwnProperty,dl=No.propertyIsEnumerable,cl=Ro(function(){return arguments}())?Ro:function(e){return El(e)&&Tl.call(e,"callee")&&!dl.call(e,"callee")};po.exports=cl});var So=u((wd,Ao)=>{function Rl(){return!1}Ao.exports=Rl});var yo=u((Ne,ie)=>{var Nl=W(),pl=So(),go=typeof Ne=="object"&&Ne&&!Ne.nodeType&&Ne,Io=go&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,fl=Io&&Io.exports===go,Oo=fl?Nl.Buffer:void 0,Al=Oo?Oo.isBuffer:void 0,Sl=Al||pl;ie.exports=Sl});var mo=u((xd,Co)=>{var Il=re(),Ol=tt(),gl=Te(),yl="[object Arguments]",Cl="[object Array]",ml="[object Boolean]",Ll="[object Date]",hl="[object Error]",bl="[object Function]",Dl="[object Map]",vl="[object Number]",Pl="[object Object]",Ml="[object RegExp]",_l="[object Set]",Ul="[object String]",wl="[object WeakMap]",xl="[object ArrayBuffer]",Hl="[object DataView]",Fl="[object Float32Array]",Gl="[object Float64Array]",Bl="[object Int8Array]",Vl="[object Int16Array]",kl="[object Int32Array]",Wl="[object Uint8Array]",ql="[object Uint8ClampedArray]",Yl="[object Uint16Array]",Xl="[object Uint32Array]",y={};y[Fl]=y[Gl]=y[Bl]=y[Vl]=y[kl]=y[Wl]=y[ql]=y[Yl]=y[Xl]=!0;y[yl]=y[Cl]=y[xl]=y[ml]=y[Hl]=y[Ll]=y[hl]=y[bl]=y[Dl]=y[vl]=y[Pl]=y[Ml]=y[_l]=y[Ul]=y[wl]=!1;function Kl(e){return gl(e)&&Ol(e.length)&&!!y[Il(e)]}Co.exports=Kl});var ho=u((Hd,Lo)=>{function Ql(e){return function(t){return e(t)}}Lo.exports=Ql});var Do=u((pe,se)=>{var jl=Qe(),bo=typeof pe=="object"&&pe&&!pe.nodeType&&pe,fe=bo&&typeof se=="object"&&se&&!se.nodeType&&se,zl=fe&&fe.exports===bo,dt=zl&&jl.process,Jl=function(){try{var e=fe&&fe.require&&fe.require("util").types;return e||dt&&dt.binding&&dt.binding("util")}catch{}}();se.exports=Jl});var _o=u((Fd,Mo)=>{var $l=mo(),Zl=ho(),vo=Do(),Po=vo&&vo.isTypedArray,eE=Po?Zl(Po):$l;Mo.exports=eE});var wo=u((Gd,Uo)=>{var tE=wn(),rE=Eo(),nE=fo(),oE=je(),aE=rt(),iE=yo(),sE=ot(),uE=_o(),lE="[object Map]",EE="[object Set]",TE=Object.prototype,dE=TE.hasOwnProperty;function cE(e){if(e==null)return!0;if(aE(e)&&(oE(e)||typeof e=="string"||typeof e.splice=="function"||iE(e)||uE(e)||nE(e)))return!e.length;var t=rE(e);if(t==lE||t==EE)return!e.size;if(sE(e))return!tE(e).length;for(var r in e)if(dE.call(e,r))return!1;return!0}Uo.exports=cE});var Fo=u((Bd,Ho)=>{var RE=Ce(),xo=/[\\^$.*+?()[\]{}|]/g,NE=RegExp(xo.source);function pE(e){return e=RE(e),e&&NE.test(e)?e.replace(xo,"\\$&"):e}Ho.exports=pE});var Ae=u((_e,Go)=>{"use strict";_e.__esModule=!0;var fE=wo(),AE=ct(fE),SE=Fo(),Me=ct(SE),IE=Le(),F=ct(IE);function ct(e){return e&&e.__esModule?e:{default:e}}function OE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var gE=function(){function e(t){OE(this,e),this.WHITESPACE_REGEX=/^(\s+)/,this.NUMBER_REGEX=/^((-\s*)?[0-9]+(\.[0-9]+)?|0x[0-9a-fA-F]+|0b[01]+)\b/,this.OPERATOR_REGEX=/^(!=|<>|==|<=|>=|!<|!>|\|\||::|->>|->|~~\*|~~|!~~\*|!~~|~\*|!~\*|!~|.)/,this.BLOCK_COMMENT_REGEX=/^(\/\*[^]*?(?:\*\/|$))/,this.LINE_COMMENT_REGEX=this.createLineCommentRegex(t.lineCommentTypes),this.RESERVED_TOPLEVEL_REGEX=this.createReservedWordRegex(t.reservedToplevelWords),this.RESERVED_NEWLINE_REGEX=this.createReservedWordRegex(t.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=this.createReservedWordRegex(t.reservedWords),this.WORD_REGEX=this.createWordRegex(t.specialWordChars),this.STRING_REGEX=this.createStringRegex(t.stringTypes),this.OPEN_PAREN_REGEX=this.createParenRegex(t.openParens),this.CLOSE_PAREN_REGEX=this.createParenRegex(t.closeParens),this.INDEXED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(t.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(t.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(t.namedPlaceholderTypes,this.createStringPattern(t.stringTypes))}return e.prototype.createLineCommentRegex=function(r){return new RegExp("^((?:"+r.map(function(n){return(0,Me.default)(n)}).join("|")+`).*?(?:
|$))`)},e.prototype.createReservedWordRegex=function(r){var n=r.join("|").replace(/ /g,"\\s+");return new RegExp("^("+n+")\\b","i")},e.prototype.createWordRegex=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return new RegExp("^([\\w"+r.join("")+"]+)")},e.prototype.createStringRegex=function(r){return new RegExp("^("+this.createStringPattern(r)+")")},e.prototype.createStringPattern=function(r){var n={"``":"((`[^`]*($|`))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^N'\\\\]*(?:\\\\.[^N'\\\\]*)*('|$))+)"};return r.map(function(o){return n[o]}).join("|")},e.prototype.createParenRegex=function(r){var n=this;return new RegExp("^("+r.map(function(o){return n.escapeParen(o)}).join("|")+")","i")},e.prototype.escapeParen=function(r){return r.length===1?(0,Me.default)(r):"\\b"+r+"\\b"},e.prototype.createPlaceholderRegex=function(r,n){if((0,AE.default)(r))return!1;var o=r.map(Me.default).join("|");return new RegExp("^((?:"+o+")(?:"+n+"))")},e.prototype.tokenize=function(r){for(var n=[],o=void 0;r.length;)o=this.getNextToken(r,o),r=r.substring(o.value.length),n.push(o);return n},e.prototype.getNextToken=function(r,n){return this.getWhitespaceToken(r)||this.getCommentToken(r)||this.getStringToken(r)||this.getOpenParenToken(r)||this.getCloseParenToken(r)||this.getPlaceholderToken(r)||this.getNumberToken(r)||this.getReservedWordToken(r,n)||this.getWordToken(r)||this.getOperatorToken(r)},e.prototype.getWhitespaceToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.WHITESPACE,regex:this.WHITESPACE_REGEX})},e.prototype.getCommentToken=function(r){return this.getLineCommentToken(r)||this.getBlockCommentToken(r)},e.prototype.getLineCommentToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})},e.prototype.getBlockCommentToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})},e.prototype.getStringToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.STRING,regex:this.STRING_REGEX})},e.prototype.getOpenParenToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})},e.prototype.getCloseParenToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})},e.prototype.getPlaceholderToken=function(r){return this.getIdentNamedPlaceholderToken(r)||this.getStringNamedPlaceholderToken(r)||this.getIndexedPlaceholderToken(r)},e.prototype.getIdentNamedPlaceholderToken=function(r){return this.getPlaceholderTokenWithKey({input:r,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:function(o){return o.slice(1)}})},e.prototype.getStringNamedPlaceholderToken=function(r){var n=this;return this.getPlaceholderTokenWithKey({input:r,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:function(E){return n.getEscapedPlaceholderKey({key:E.slice(2,-1),quoteChar:E.slice(-1)})}})},e.prototype.getIndexedPlaceholderToken=function(r){return this.getPlaceholderTokenWithKey({input:r,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:function(o){return o.slice(1)}})},e.prototype.getPlaceholderTokenWithKey=function(r){var n=r.input,o=r.regex,E=r.parseKey,d=this.getTokenOnFirstMatch({input:n,regex:o,type:F.default.PLACEHOLDER});return d&&(d.key=E(d.value)),d},e.prototype.getEscapedPlaceholderKey=function(r){var n=r.key,o=r.quoteChar;return n.replace(new RegExp((0,Me.default)("\\")+o,"g"),o)},e.prototype.getNumberToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.NUMBER,regex:this.NUMBER_REGEX})},e.prototype.getOperatorToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.OPERATOR,regex:this.OPERATOR_REGEX})},e.prototype.getReservedWordToken=function(r,n){if(!(n&&n.value&&n.value==="."))return this.getToplevelReservedToken(r)||this.getNewlineReservedToken(r)||this.getPlainReservedToken(r)},e.prototype.getToplevelReservedToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.RESERVED_TOPLEVEL,regex:this.RESERVED_TOPLEVEL_REGEX})},e.prototype.getNewlineReservedToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})},e.prototype.getPlainReservedToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.RESERVED,regex:this.RESERVED_PLAIN_REGEX})},e.prototype.getWordToken=function(r){return this.getTokenOnFirstMatch({input:r,type:F.default.WORD,regex:this.WORD_REGEX})},e.prototype.getTokenOnFirstMatch=function(r){var n=r.input,o=r.type,E=r.regex,d=n.match(E);if(d)return{type:o,value:d[1]}},e}();_e.default=gE;Go.exports=_e.default});var ko=u((Ue,Vo)=>{"use strict";Ue.__esModule=!0;var yE=Re(),CE=Bo(yE),mE=Ae(),LE=Bo(mE);function Bo(e){return e&&e.__esModule?e:{default:e}}function hE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var bE=["ABS","ACTIVATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ANY","ARE","ARRAY","AS","ASC","ASENSITIVE","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATOMIC","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVG","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CCSID","CEIL","CEILING","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOB","CLONE","CLOSE","CLUSTER","COALESCE","COLLATE","COLLECT","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","CONVERT","CORR","CORRESPONDING","COUNT","COUNT_BIG","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DATE","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DEREF","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DOUBLE","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELEMENT","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPTION","EXCLUDING","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FILTER","FINAL","FIRST","FLOAT","FLOOR","FOR","FOREIGN","FREE","FULL","FUNCTION","FUSION","GENERAL","GENERATED","GET","GLOBAL","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","HANDLER","HASH","HASHED_VALUE","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTEGRITY","INTERSECTION","INTERVAL","INTO","IS","ISOBID","ISOLATION","ITERATE","JAR","JAVA","KEEP","KEY","LABEL","LANGUAGE","LARGE","LATERAL","LC_CTYPE","LEADING","LEAVE","LEFT","LIKE","LINKTYPE","LN","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","LOWER","MAINTAINED","MATCH","MATERIALIZED","MAX","MAXVALUE","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIN","MINUTE","MINUTES","MINVALUE","MOD","MODE","MODIFIES","MODULE","MONTH","MONTHS","MULTISET","NAN","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZE","NORMALIZED","NOT","NULL","NULLIF","NULLS","NUMERIC","NUMPARTS","OBID","OCTET_LENGTH","OF","OFFSET","OLD","OLD_TABLE","ON","ONLY","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PIECESIZE","PLAN","POSITION","POWER","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","REAL","RECOVERY","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SIGNAL","SIMILAR","SIMPLE","SMALLINT","SNAN","SOME","SOURCE","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLID","SQLSTATE","SQLWARNING","SQRT","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STDDEV_POP","STDDEV_SAMP","STOGROUP","STORES","STYLE","SUBMULTISET","SUBSTRING","SUM","SUMMARY","SYMMETRIC","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","TABLESPACE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TYPE","UESCAPE","UNDO","UNIQUE","UNKNOWN","UNNEST","UNTIL","UPPER","USAGE","USER","USING","VALIDPROC","VALUE","VARCHAR","VARIABLE","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],DE=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INTERSECT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNION ALL","UPDATE","VALUES","WHERE"],vE=["AND","CROSS JOIN","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN"],Rt=void 0,PE=function(){function e(t){hE(this,e),this.cfg=t}return e.prototype.format=function(r){return Rt||(Rt=new LE.default({reservedWords:bE,reservedToplevelWords:DE,reservedNewlineWords:vE,stringTypes:['""',"''","``","[]"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["#","@"]})),new CE.default(this.cfg,Rt).format(r)},e}();Ue.default=PE;Vo.exports=Ue.default});var Yo=u((we,qo)=>{"use strict";we.__esModule=!0;var ME=Re(),_E=Wo(ME),UE=Ae(),wE=Wo(UE);function Wo(e){return e&&e.__esModule?e:{default:e}}function xE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var HE=["ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","CONNECT","CONTINUE","CORRELATE","COVER","CREATE","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FIRST","FLATTEN","FOR","FORCE","FROM","FUNCTION","GRANT","GROUP","GSI","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LAST","LEFT","LET","LETTING","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NOT","NULL","NUMBER","OBJECT","OFFSET","ON","OPTION","OR","ORDER","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROCEDURE","PUBLIC","RAW","REALM","REDUCE","RENAME","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","SATISFIES","SCHEMA","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TO","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WITH","WITHIN","WORK","XOR"],FE=["DELETE FROM","EXCEPT ALL","EXCEPT","EXPLAIN DELETE FROM","EXPLAIN UPDATE","EXPLAIN UPSERT","FROM","GROUP BY","HAVING","INFER","INSERT INTO","INTERSECT ALL","INTERSECT","LET","LIMIT","MERGE","NEST","ORDER BY","PREPARE","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNION ALL","UNION","UNNEST","UPDATE","UPSERT","USE KEYS","VALUES","WHERE"],GE=["AND","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","XOR"],Nt=void 0,BE=function(){function e(t){xE(this,e),this.cfg=t}return e.prototype.format=function(r){return Nt||(Nt=new wE.default({reservedWords:HE,reservedToplevelWords:FE,reservedNewlineWords:GE,stringTypes:['""',"''","``"],openParens:["(","[","{"],closeParens:[")","]","}"],namedPlaceholderTypes:["$"],lineCommentTypes:["#","--"]})),new _E.default(this.cfg,Nt).format(r)},e}();we.default=BE;qo.exports=we.default});var Qo=u((xe,Ko)=>{"use strict";xe.__esModule=!0;var VE=Re(),kE=Xo(VE),WE=Ae(),qE=Xo(WE);function Xo(e){return e&&e.__esModule?e:{default:e}}function YE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var XE=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],KE=["ADD","ALTER COLUMN","ALTER TABLE","BEGIN","CONNECT BY","DECLARE","DELETE FROM","DELETE","END","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","INTERSECT","LIMIT","LOOP","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","START WITH","UNION ALL","UNION","UPDATE","VALUES","WHERE"],QE=["AND","CROSS APPLY","CROSS JOIN","ELSE","END","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER APPLY","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","WHEN","XOR"],pt=void 0,jE=function(){function e(t){YE(this,e),this.cfg=t}return e.prototype.format=function(r){return pt||(pt=new qE.default({reservedWords:XE,reservedToplevelWords:KE,reservedNewlineWords:QE,stringTypes:['""',"N''","''","``"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"]})),new kE.default(this.cfg,pt).format(r)},e}();xe.default=jE;Ko.exports=xe.default});var Jo=u((He,zo)=>{"use strict";He.__esModule=!0;var zE=Re(),JE=jo(zE),$E=Ae(),ZE=jo($E);function jo(e){return e&&e.__esModule?e:{default:e}}function eT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var tT=["ACCESSIBLE","ACTION","AGAINST","AGGREGATE","ALGORITHM","ALL","ALTER","ANALYSE","ANALYZE","AS","ASC","AUTOCOMMIT","AUTO_INCREMENT","BACKUP","BEGIN","BETWEEN","BINLOG","BOTH","CASCADE","CASE","CHANGE","CHANGED","CHARACTER SET","CHARSET","CHECK","CHECKSUM","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPRESSED","CONCURRENT","CONSTRAINT","CONTAINS","CONVERT","CREATE","CROSS","CURRENT_TIMESTAMP","DATABASE","DATABASES","DAY","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DEFAULT","DEFINER","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO","DROP","DUMPFILE","DUPLICATE","DYNAMIC","ELSE","ENCLOSED","END","ENGINE","ENGINES","ENGINE_TYPE","ESCAPE","ESCAPED","EVENTS","EXEC","EXECUTE","EXISTS","EXPLAIN","EXTENDED","FAST","FETCH","FIELDS","FILE","FIRST","FIXED","FLUSH","FOR","FORCE","FOREIGN","FULL","FULLTEXT","FUNCTION","GLOBAL","GRANT","GRANTS","GROUP_CONCAT","HEAP","HIGH_PRIORITY","HOSTS","HOUR","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IF","IFNULL","IGNORE","IN","INDEX","INDEXES","INFILE","INSERT","INSERT_ID","INSERT_METHOD","INTERVAL","INTO","INVOKER","IS","ISOLATION","KEY","KEYS","KILL","LAST_INSERT_ID","LEADING","LEVEL","LIKE","LINEAR","LINES","LOAD","LOCAL","LOCK","LOCKS","LOGS","LOW_PRIORITY","MARIA","MASTER","MASTER_CONNECT_RETRY","MASTER_HOST","MASTER_LOG_FILE","MATCH","MAX_CONNECTIONS_PER_HOUR","MAX_QUERIES_PER_HOUR","MAX_ROWS","MAX_UPDATES_PER_HOUR","MAX_USER_CONNECTIONS","MEDIUM","MERGE","MINUTE","MINUTE_SECOND","MIN_ROWS","MODE","MODIFY","MONTH","MRG_MYISAM","MYISAM","NAMES","NATURAL","NOT","NOW()","NULL","OFFSET","ON DELETE","ON UPDATE","ON","ONLY","OPEN","OPTIMIZE","OPTION","OPTIONALLY","OUTFILE","PACK_KEYS","PAGE","PARTIAL","PARTITION","PARTITIONS","PASSWORD","PRIMARY","PRIVILEGES","PROCEDURE","PROCESS","PROCESSLIST","PURGE","QUICK","RAID0","RAID_CHUNKS","RAID_CHUNKSIZE","RAID_TYPE","RANGE","READ","READ_ONLY","READ_WRITE","REFERENCES","REGEXP","RELOAD","RENAME","REPAIR","REPEATABLE","REPLACE","REPLICATION","RESET","RESTORE","RESTRICT","RETURN","RETURNS","REVOKE","RLIKE","ROLLBACK","ROW","ROWS","ROW_FORMAT","SECOND","SECURITY","SEPARATOR","SERIALIZABLE","SESSION","SHARE","SHOW","SHUTDOWN","SLAVE","SONAME","SOUNDS","SQL","SQL_AUTO_IS_NULL","SQL_BIG_RESULT","SQL_BIG_SELECTS","SQL_BIG_TABLES","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQL_LOG_BIN","SQL_LOG_OFF","SQL_LOG_UPDATE","SQL_LOW_PRIORITY_UPDATES","SQL_MAX_JOIN_SIZE","SQL_NO_CACHE","SQL_QUOTE_SHOW_CREATE","SQL_SAFE_UPDATES","SQL_SELECT_LIMIT","SQL_SLAVE_SKIP_COUNTER","SQL_SMALL_RESULT","SQL_WARNINGS","START","STARTING","STATUS","STOP","STORAGE","STRAIGHT_JOIN","STRING","STRIPED","SUPER","TABLE","TABLES","TEMPORARY","TERMINATED","THEN","TO","TRAILING","TRANSACTIONAL","TRUE","TRUNCATE","TYPE","TYPES","UNCOMMITTED","UNIQUE","UNLOCK","UNSIGNED","USAGE","USE","USING","VARIABLES","VIEW","WHEN","WITH","WORK","WRITE","YEAR_MONTH"],rT=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INSERT","INTERSECT","LIMIT","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNION ALL","UNION","UPDATE","VALUES","WHERE"],nT=["AND","CROSS APPLY","CROSS JOIN","ELSE","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER APPLY","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","WHEN","XOR"],ft=void 0,oT=function(){function e(t){eT(this,e),this.cfg=t}return e.prototype.format=function(r){return ft||(ft=new ZE.default({reservedWords:tT,reservedToplevelWords:rT,reservedNewlineWords:nT,stringTypes:['""',"N''","''","``","[]"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["@",":"],lineCommentTypes:["#","--"]})),new JE.default(this.cfg,ft).format(r)},e}();He.default=oT;zo.exports=He.default});var Zo=u((Ge,$o)=>{"use strict";Ge.__esModule=!0;var aT=ko(),iT=Fe(aT),sT=Yo(),uT=Fe(sT),lT=Qo(),ET=Fe(lT),TT=Jo(),dT=Fe(TT);function Fe(e){return e&&e.__esModule?e:{default:e}}Ge.default={format:function(t,r){switch(r=r||{},r.language){case"db2":return new iT.default(r).format(t);case"n1ql":return new uT.default(r).format(t);case"pl/sql":return new ET.default(r).format(t);case"sql":case void 0:return new dT.default(r).format(t);default:throw Error("Unsupported SQL dialect: "+r.language)}}};$o.exports=Ge.default});var IT={};ca(IT,{Component:()=>oa,plugin:()=>St});module.exports=Ra(IT);var It=K(_t()),Ot=require("flipper-plugin");var Ve=require("flipper");function Ye(e){if(Array.isArray(e))return e.map(Ye).join(" ");if(typeof e=="string")return e;if(e instanceof Error)return e.message||e.toString();try{return JSON.stringify(e)}catch(t){return""+t}}var Q=require("flipper-plugin"),Ut=require("antd"),Z=K(require("react")),{Text:wt}=Ut.Typography,xt=(0,Q.styled)(wt)({wordWrap:"break-word",width:"100%",lineHeight:"125%",padding:"3px 0"});xt.displayName="TypeBasedValueRenderer:WrappingText";var Xe=(0,Q.styled)(wt)({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"});Xe.displayName="TypeBasedValueRenderer:NonWrappingText";var Ht=(0,Q.styled)(Xe)(e=>({"&::before":{content:'""',display:"inline-block",width:8,height:8,borderRadius:4,backgroundColor:e.active?Q.theme.successColor:Q.theme.errorColor,marginRight:5,marginTop:1}}));Ht.displayName="TypeBasedValueRenderer:BooleanValue";function Ft(e){return e.value?.toString()??null}function ee(e,t){let r=t?xt:Xe;switch(e.type){case"boolean":return Z.default.createElement(Ht,{active:e.value},e.value.toString());case"blob":case"string":return Z.default.createElement(r,null,e.value);case"integer":case"float":case"double":case"number":return Z.default.createElement(r,null,e.value);case"null":return Z.default.createElement(r,null,"NULL");default:return Z.default.createElement(r,null)}}var a=K(require("react"));var Oe=require("antd"),j=K(require("react")),ge=require("@ant-design/icons"),Gt=j.default.memo(e=>j.default.createElement(Oe.Radio.Group,{style:{marginLeft:5,marginRight:5}},j.default.createElement(Oe.Radio.Button,{disabled:!e.canGoBack,onClick:e.onBack},j.default.createElement(ge.LeftOutlined,{size:16})),j.default.createElement(Oe.Radio.Button,{disabled:!e.canGoForward,onClick:e.onForward},j.default.createElement(ge.RightOutlined,{size:16}))));var O=K(require("react")),m=require("flipper-plugin");var te=require("antd"),Na=m.styled.div({borderBottom:`1px solid ${m.theme.dividerColor}`,padding:8}),pa=m.styled.div({fontWeight:"bold",marginBottom:8}),fa=m.styled.span({color:m.theme.white,marginLeft:8,fontWeight:"normal"}),Aa=m.styled.div({});function Sa(e,t){return e.map((r,n)=>Bt(r,t[n]))}function Bt(e,t){let r=ee(t,!0);if((t.type==="string"||t.type==="blob")&&(t.value[0]==="["||t.value[0]==="{")){try{var n=JSON.parse(t.value)}catch{}n&&(r=O.default.createElement(m.DataInspector,{data:n,expandRoot:!0,collapsed:!0}))}return{col:e,type:t.type,value:r}}function Ia(e,t,r){return e.map((n,o)=>Oa(n,t[o],E=>r({type:"set",key:n,value:E})))}function Oa(e,t,r){return t.type==="blob"||!t.type?Bt(e,t):{col:e,type:t.type,value:O.default.createElement(ga,{key:e,initialValue:Ft(t),onUpdateValue:r})}}var ga=O.default.memo(e=>{let{initialValue:t,onUpdateValue:r}=e,[n,o]=(0,O.useState)(t);return(0,O.useEffect)(()=>o(t),[t]),O.default.createElement(te.Input,{value:n||"",onChange:E=>{o(E.target.value),r(E.target.value)},placeholder:n===null?"NULL":void 0,"data-testid":"update-query-input",style:{width:"100%"}})}),ya=(0,m.produce)((e,t)=>{switch(t.type){case"set":e.changes[t.key]=t.value,e.updated=!0;return;case"reset":e.changes={},e.updated=!1;return}}),Ke=O.default.memo(function(t){let[r,n]=(0,O.useState)(!1),[o,E]=(0,O.useReducer)(ya,{changes:{},updated:!1}),{columnLabels:d,columnValues:g,onSave:v}=t;(0,O.useEffect)(()=>E({type:"reset"}),[d,g]);let f=(0,O.useMemo)(()=>r?Ia(d,g,E):Sa(d,g),[d,g,r]);return O.default.createElement(m.DetailSidebar,null,O.default.createElement(m.Panel,{title:"Row details",collapsible:!0},v?O.default.createElement(m.Layout.Right,{center:!0},O.default.createElement("div",null),r?O.default.createElement(m.Layout.Horizontal,{pad:!0,gap:!0},O.default.createElement(te.Button,{onClick:()=>n(!1)},"Close"),O.default.createElement(te.Button,{disabled:!o.updated,type:"primary",onClick:()=>{v(o.changes),n(!1)}},"Save")):O.default.createElement(m.Layout.Horizontal,{pad:!0},O.default.createElement(te.Button,{onClick:()=>n(!0)},"Edit"))):null,O.default.createElement("div",null,f.map(N=>O.default.createElement(Na,{key:N.col},O.default.createElement(pa,null,N.col,O.default.createElement(fa,null,"(",N.type,")")),O.default.createElement(Aa,null,N.value))))))});var V=require("flipper-plugin"),le=K(require("react"));function Vt(e,t){return t.map(r=>r.reduce((n,o,E)=>(n[e[E]]=o,n),{}))}function kt(e){return e.map(r=>({key:r,title:r,onRender(n){return ee(n[r])}}))}var Wt=le.default.memo(e=>{let{structure:t}=e,{columns:r,rows:n,indexesColumns:o,indexesValues:E}=t,d=(0,V.useMemoize)((N,c)=>Vt(N,c),[r,n]),g=(0,V.useMemoize)(N=>kt(N),[r]),v=(0,V.useMemoize)((N,c)=>Vt(N,c),[o,E]),f=(0,V.useMemoize)(N=>kt(N),[o]);return le.default.createElement(V.Layout.Top,{resizable:!0,height:400},le.default.createElement(V.DataTable,{records:d,columns:g,enableSearchbar:!1}),le.default.createElement(V.DataTable,{records:v,columns:f,enableSearchbar:!1}))});var Ca=["INTEGER","LONG","INT","BIGINT"],ma=["REAL","DOUBLE"],La=["BLOB"];function Yt(e,t,r){if(e.hasOwnProperty(t)){let{type:n,nullable:o}=e[t];if(r=r===null?"":r,r.length<=0&&o)return{type:"null",value:null};if(Ca.indexOf(n)>=0){let E=parseInt(r,10);return{type:"integer",value:isNaN(E)?0:E}}else if(ma.indexOf(n)>=0){let E=parseFloat(r);return{type:"float",value:isNaN(E)?0:E}}else return La.indexOf(n)>=0?{type:"blob",value:r}:{type:"string",value:r}}return r===null||r.length<=0?{type:"null",value:null}:{type:"string",value:r}}function qt(e,t){return Object.entries(e).reduce((r,[n,o],E)=>{let d=o.type==="null"?"NULL":o.type==="string"||o.type==="blob"?`'${o.value.replace(/'/g,"''")}'`:`${o.value}`;return E<=0?`\`${n}\`=${d}`:`${r} ${t} \`${n}\`=${d}`},"")}function Xt(e,t,r){return`UPDATE \`${e}\`
    SET ${qt(r,",")}
    WHERE ${qt(t,"AND")}`}function Kt(e,t){let r=e.indexOf("primary_key");return r>=0&&t.reduce((n,o)=>{let E=o[r];return n||E.type==="boolean"&&E.value},!1)}var ra=K(Zo()),R=require("flipper-plugin"),S=require("antd"),_=require("@ant-design/icons"),{TextArea:ea}=S.Input,{Option:ta}=S.Select,{Text:Be}=S.Typography,At=R.styled.span({fontSize:12,color:"#90949c",fontWeight:"bold",textTransform:"uppercase"}),cT=R.styled.div({backgroundColor:R.theme.errorColor,color:R.theme.textColorPrimary,lineHeight:"26px",textAlign:"center"}),RT=(0,R.styled)(R.Layout.Horizontal)({alignItems:"center"});function na(e,t,r){let n={};for(let o=0;o<e.length;o++)n[e[o]]={value:ee(t[o],!0)};return{key:String(r),columns:n}}var NT=a.default.memo(({history:e})=>{if(!e||typeof e>"u")return null;let t={time:{value:"Time",resizable:!0},query:{value:"Query",resizable:!0}},r=[];if(e.length>0)for(let n=0;n<e.length;n++){let o=e[n],E=o.time,d=o.value;r.push({key:`${n}`,columns:{time:{value:E},query:{value:d}}})}return a.default.createElement(R.Layout.Horizontal,{grow:!0},a.default.createElement(Ve.ManagedTable,{floating:!1,columns:t,columnSizes:{time:75},zebra:!0,rows:r,horizontallyScrollable:!0}))}),pT=a.default.memo(e=>{let[t,r]=(0,a.useState)({isOpen:!1,inputValue:String(e.currentRow)}),n=(0,a.useCallback)(()=>{r({...t,isOpen:!0})},[t]),o=(0,a.useCallback)(d=>{r({...t,inputValue:d.target.value})},[t]),E=(0,a.useCallback)(d=>{if(d.key==="Enter"){let g=parseInt(t.inputValue,10);e.onChange(g-1,e.count),r({...t,isOpen:!1})}},[e,t]);return a.default.createElement(RT,{grow:!0},a.default.createElement("div",{style:{flex:1}}),a.default.createElement(Be,null,e.count===e.totalRows?`${e.count} `:`${e.currentRow+1}-${e.currentRow+e.count} `,"of ",e.totalRows," rows"),a.default.createElement("div",{style:{flex:1}}),t.isOpen?a.default.createElement(S.Input,{tabIndex:-1,placeholder:(e.currentRow+1).toString(),onChange:o,onKeyDown:E}):a.default.createElement(S.Button,{style:{textAlign:"center"},onClick:n},"Go To Row"))}),fT=a.default.memo(({page:e,highlightedRowsChanged:t,sortOrderChanged:r,currentSort:n,currentStructure:o,onRowEdited:E})=>e&&e.columns?a.default.createElement(R.Layout.Horizontal,{grow:!0},a.default.createElement(Ve.ManagedTable,{tableKey:`databases-${e.databaseId}-${e.table}`,floating:!1,columnOrder:e.columns.map(d=>({key:d,visible:!0})),columns:e.columns.reduce((d,g)=>Object.assign({},d,{[g]:{value:g,resizable:!0,sortable:!0}}),{}),zebra:!0,rows:e.rows.map((d,g)=>na(e.columns,d,g)),horizontallyScrollable:!0,multiHighlight:!0,onRowHighlighted:t,onSort:r,initialSortOrder:n??void 0}),e.highlightedRows.length===1&&a.default.createElement(Ke,{columnLabels:e.columns,columnValues:e.rows[e.highlightedRows[0]],onSave:o&&Kt(o.columns,o.rows)?E:void 0})):null),AT=a.default.memo(({query:e,highlightedRowsChanged:t})=>{if(!e||e===null)return null;if(e.table&&typeof e.table<"u"&&e.table!==null){let r=e.table,n=r.columns,o=r.rows;return a.default.createElement(R.Layout.Container,{grow:!0},a.default.createElement(Ve.ManagedTable,{floating:!1,multiline:!0,columnOrder:n.map(E=>({key:E,visible:!0})),columns:n.reduce((E,d)=>Object.assign({},E,{[d]:{value:d,resizable:!0}}),{}),zebra:!0,rows:o.map((E,d)=>na(n,E,d)),horizontallyScrollable:!0,onRowHighlighted:t}),r.highlightedRows.length===1&&a.default.createElement(Ke,{columnLabels:r.columns,columnValues:r.rows[r.highlightedRows[0]]}))}else return e.id&&e.id!==null?a.default.createElement(R.Layout.Horizontal,{grow:!0,pad:!0},a.default.createElement(Be,null,"Row id: ",e.id)):e.count&&e.count!==null?a.default.createElement(R.Layout.Horizontal,{grow:!0,pad:!0},a.default.createElement(Be,null,"Rows affected: ",e.count)):null}),ST=a.default.memo(({favorites:e,onClick:t})=>{let r=(0,a.useCallback)(n=>t(n.key),[t]);return a.default.createElement(S.Menu,null,e.map(n=>a.default.createElement(S.Menu.Item,{key:n,onClick:r},n)))});function oa(){let e=(0,R.usePlugin)(St),t=(0,R.useValue)(e.state),r=(0,R.useValue)(e.favoritesState),n=(0,a.useCallback)(l=>{e.updateViewMode({viewMode:l.target.value??"data"})},[e]),o=(0,a.useCallback)(()=>{e.updateViewMode({viewMode:"data"})},[e]),E=(0,a.useCallback)(()=>{e.updateViewMode({viewMode:"structure"})},[e]),d=(0,a.useCallback)(()=>{e.updateViewMode({viewMode:"SQL"})},[e]),g=(0,a.useCallback)(()=>{e.updateViewMode({viewMode:"tableInfo"})},[e]),v=(0,a.useCallback)(()=>{e.updateViewMode({viewMode:"queryHistory"})},[e]),f=(0,a.useCallback)(()=>{e.state.update(l=>{l.error=null}),e.refresh()},[e]),N=(0,a.useCallback)(()=>{t.query&&e.addOrRemoveQueryToFavorites(t.query.value)},[e,t.query]),c=(0,a.useCallback)(l=>{let i=e.state.get().databases.find(D=>D.name===l)?.id||0;e.updateSelectedDatabase({database:i})},[e]),L=(0,a.useCallback)(l=>{e.updateSelectedDatabaseTable({table:l})},[e]),C=(0,a.useCallback)(()=>{e.nextPage()},[e]),q=(0,a.useCallback)(()=>{e.previousPage()},[e]),G=(0,a.useCallback)(()=>{let l=e.state.get().query;l&&e.execute({query:l.value})},[e]),b=(0,a.useCallback)(l=>{l.key===`
`&&l.ctrlKey&&(l.preventDefault(),l.stopPropagation(),G())},[G]),P=(0,a.useCallback)((l,i)=>{e.goToRow({row:l})},[e]),U=(0,a.useCallback)(l=>{e.updateQuery({value:l.target.value})},[e]),M=(0,a.useCallback)(l=>{e.updateQuery({value:l})},[e]),B=(0,a.useCallback)(l=>{e.pageHighlightedRowsChanged(l)},[e]),w=(0,a.useCallback)(l=>{e.queryHighlightedRowsChanged(l)},[e]),Y=(0,a.useCallback)(l=>{e.sortByChanged({sortOrder:l})},[e]),s=(0,a.useCallback)(l=>{let{selectedDatabaseTable:i,currentStructure:D,viewMode:ue,currentPage:J}=e.state.get(),gt=J?.highlightedRows[0]??-1,yt=gt>=0?J?.rows[J?.highlightedRows[0]]:void 0,ke=J?.columns;if(ue!=="data"||i===null||D===null||J===null||yt===void 0||ke===void 0||Object.keys(l).length<=0)return;let Ct=D.columns.indexOf("primary_key"),We=D.columns.indexOf("column_name"),mt=D.columns.indexOf("data_type"),Lt=D.columns.indexOf("nullable");if(Ct<0&&We<0&&mt<0){console.error("primary_key, column_name, and/or data_type cannot be empty");return}let ht=D.rows.reduce((h,x)=>{let k=x[Ct];if(k.type==="boolean"&&k.value){let X=x[We];return X.type==="string"?h.concat(X.value):h}else return h},[]).map(h=>ke.indexOf(h)).filter(h=>h>=0);if(ht.length<=0)return;let ia=D.rows.reduce((h,x)=>{let k=x[We],X=k.type==="string"?k.value:null,Dt=x[mt],vt=Dt.type==="string"?Dt.value:null,sa=(Lt<0?{type:"null",value:null}:x[Lt]).value!==!1;return X!==null&&vt!==null&&(h[X]={type:vt,nullable:sa}),h},{}),bt=Object.entries(l).reduce((h,[x,k])=>(h[x]=Yt(ia,x,k),h),{});e.execute({query:Xt(i,ht.reduce((h,x)=>(h[ke[x]]=yt[x],h),{}),bt)}),e.updatePage({...(0,R.produce)(J,h=>Object.entries(bt).forEach(([x,k])=>{let X=h.columns.indexOf(x);X>=0&&(h.rows[gt][X]=k)}))})},[e]),T=(0,R.useMemoize)(l=>l.map(i=>a.default.createElement(ta,{key:i.name,value:i.name,label:i.name},i.name)),[t.databases]),A=(0,R.useMemoize)((l,i)=>l&&i[t.selectedDatabase-1]?i[l-1].name:void 0,[t.selectedDatabase,t.databases]),I=(0,R.useMemoize)((l,i)=>l&&i[t.selectedDatabase-1]?i[l-1].tables.map(D=>a.default.createElement(ta,{key:D,value:D,label:D},D)):[],[t.selectedDatabase,t.databases]),p=(0,R.useMemoize)((l,i,D)=>l&&i[l-1]?i[l-1].tables.find(ue=>ue===D)??i[l-1].tables[0]:void 0,[t.selectedDatabase,t.databases,t.selectedDatabaseTable]);return a.default.createElement(R.Layout.Container,{grow:!0},a.default.createElement(R.Toolbar,{position:"top"},a.default.createElement(S.Radio.Group,{value:t.viewMode,onChange:n},a.default.createElement(S.Radio.Button,{value:"data",onClick:o},a.default.createElement(_.TableOutlined,{style:{marginRight:5}}),a.default.createElement(S.Typography.Text,null,"Data")),a.default.createElement(S.Radio.Button,{onClick:E,value:"structure"},a.default.createElement(_.SettingOutlined,{style:{marginRight:5}}),a.default.createElement(S.Typography.Text,null,"Structure")),a.default.createElement(S.Radio.Button,{onClick:d,value:"SQL"},a.default.createElement(_.ConsoleSqlOutlined,{style:{marginRight:5}}),a.default.createElement(S.Typography.Text,null,"SQL")),a.default.createElement(S.Radio.Button,{onClick:g,value:"tableInfo"},a.default.createElement(_.DatabaseOutlined,{style:{marginRight:5}}),a.default.createElement(S.Typography.Text,null,"Table Info")),a.default.createElement(S.Radio.Button,{onClick:v,value:"queryHistory"},a.default.createElement(_.HistoryOutlined,{style:{marginRight:5}}),a.default.createElement(S.Typography.Text,null,"Query History")))),t.viewMode==="data"||t.viewMode==="structure"||t.viewMode==="tableInfo"?a.default.createElement(R.Toolbar,{position:"top"},a.default.createElement(At,null,"Database"),a.default.createElement(S.Select,{showSearch:!0,value:A,onChange:c,style:{flex:1},dropdownMatchSelectWidth:!1},T),a.default.createElement(At,null,"Table"),a.default.createElement(S.Select,{showSearch:!0,value:p,onChange:L,style:{flex:1},dropdownMatchSelectWidth:!1},I),a.default.createElement("div",null),a.default.createElement(S.Button,{onClick:f,type:"default"},"Refresh")):null,t.viewMode==="SQL"?a.default.createElement(R.Layout.Container,null,a.default.createElement(R.Toolbar,{position:"top"},a.default.createElement(At,null,"Database"),a.default.createElement(S.Select,{showSearch:!0,value:A,onChange:c,dropdownMatchSelectWidth:!1},T)),a.default.createElement(R.Layout.Horizontal,{pad:R.theme.space.small,style:{paddingBottom:0}},a.default.createElement(ea,{onChange:U,onKeyPress:b,placeholder:"Type query here..",value:t.query!==null&&typeof t.query<"u"?t.query.value:void 0})),a.default.createElement(R.Toolbar,{position:"top"},a.default.createElement(R.Layout.Right,null,a.default.createElement("div",null),a.default.createElement(R.Layout.Horizontal,{gap:R.theme.space.small},a.default.createElement(S.Button,{icon:t.query&&r.includes(t.query.value)?a.default.createElement(_.StarFilled,null):a.default.createElement(_.StarOutlined,null),onClick:N}),a.default.createElement(S.Dropdown,{overlay:a.default.createElement(ST,{favorites:r,onClick:M})},a.default.createElement(S.Button,{onClick:()=>{}},"Choose from previous queries ",a.default.createElement(_.DownOutlined,null))),a.default.createElement(S.Button,{type:"primary",onClick:G,title:"Execute SQL [Ctrl+Return]"},"Execute"))))):null,a.default.createElement(R.Layout.Container,{grow:!0},t.viewMode==="data"?a.default.createElement(fT,{page:t.currentPage,highlightedRowsChanged:B,onRowEdited:s,sortOrderChanged:Y,currentSort:t.currentSort,currentStructure:t.currentStructure}):null,t.viewMode==="structure"&&t.currentStructure?a.default.createElement(Wt,{structure:t.currentStructure}):null,t.viewMode==="SQL"?a.default.createElement(AT,{query:t.queryResult,highlightedRowsChanged:w}):null,t.viewMode==="tableInfo"?a.default.createElement(R.Layout.Horizontal,{grow:!0,pad:R.theme.space.small,style:{paddingBottom:0}},a.default.createElement(ea,{value:ra.default.format(t.tableInfo),readOnly:!0})):null,t.viewMode==="queryHistory"?a.default.createElement(NT,{history:t.queryHistory}):null),a.default.createElement(R.Toolbar,{position:"bottom",style:{paddingLeft:8}},a.default.createElement(R.Layout.Horizontal,{grow:!0},t.viewMode==="SQL"&&t.executionTime!==0?a.default.createElement(Be,null," ",t.executionTime," ms "):null,t.viewMode==="data"&&t.currentPage?a.default.createElement(pT,{currentRow:t.currentPage.start,count:t.currentPage.count,totalRows:t.currentPage.total,onChange:P}):null,t.viewMode==="data"&&t.currentPage?a.default.createElement(Gt,{canGoBack:t.currentPage.start>0,canGoForward:t.currentPage.start+t.currentPage.count<t.currentPage.total,onBack:q,onForward:C}):null)),t.error&&a.default.createElement(cT,null,Ye(t.error)))}var Se=50,aa="plugin-database-favorites-sql-queries";function St(e){let t=(0,Ot.createState)({selectedDatabase:0,selectedDatabaseTable:null,pageRowNumber:0,databases:[],outdatedDatabaseList:!0,viewMode:"data",error:null,currentPage:null,currentStructure:null,currentSort:null,query:null,queryResult:null,executionTime:0,tableInfo:"",queryHistory:[]}),r=(0,Ot.createState)([],{persist:"favorites"});r.subscribe(s=>{localStorage.setItem(aa,JSON.stringify(s))});let n=s=>{let T=s.databases??[],A=t.get(),I=T.sort((D,ue)=>D.id-ue.id),p=A.selectedDatabase||(Object.values(I)[0]?Object.values(I)[0].id:0),l=A.selectedDatabaseTable&&p>0&&I.length>=p&&I[p-1].tables.includes(A.selectedDatabaseTable)?A.selectedDatabaseTable:I[p-1].tables[0],i=p===A.selectedDatabase&&l===A.selectedDatabaseTable;t.set({...A,databases:I,outdatedDatabaseList:!1,selectedDatabase:p,selectedDatabaseTable:l,pageRowNumber:0,currentPage:i?A.currentPage:null,currentStructure:null,currentSort:i?A.currentSort:null})},o=s=>{let T=t.get();t.set({...T,selectedDatabase:s.database,selectedDatabaseTable:T.databases[s.database-1].tables[0]||null,pageRowNumber:0,currentPage:null,currentStructure:null,currentSort:null})},E=s=>{let T=t.get();t.set({...T,selectedDatabaseTable:s.table,pageRowNumber:0,currentPage:null,currentStructure:null,currentSort:null})},d=s=>{t.update(T=>{T.viewMode=s.viewMode,T.error=null})},g=s=>{t.update(T=>{T.currentPage=s})},v=s=>{t.update(T=>{T.currentStructure={databaseId:s.databaseId,table:s.table,columns:s.columns,rows:s.rows,indexesColumns:s.indexesColumns,indexesValues:s.indexesValues}})},f=s=>{t.update(T=>{T.queryResult={table:{columns:s.columns,rows:s.values,highlightedRows:[]},id:null,count:null}})},N=s=>{let T=t.get();t.set({...T,queryResult:{table:null,id:s.id,count:null}})},c=s=>{t.update(T=>{T.queryResult={table:null,id:null,count:s.count}})},L=s=>{t.update(T=>{T.tableInfo=s.tableInfo})},C=()=>{t.update(s=>{s.pageRowNumber+=Se,s.currentPage=null})},q=()=>{t.update(s=>{s.pageRowNumber=Math.max(s.pageRowNumber-Se,0),s.currentPage=null})},G=s=>{let T=Date.now(),{query:A}=s;e.send("execute",{databaseId:t.get().selectedDatabase,value:A}).then(l=>{t.update(i=>{i.error=null,i.executionTime=Date.now()-T}),l.type==="select"?f({columns:l.columns,values:l.values}):l.type==="insert"?N({id:l.insertedId}):l.type==="update_delete"&&c({count:l.affectedCount})}).catch(l=>{t.update(i=>{i.error=l})});let I=t.get().queryHistory,p=t.get().query;p!==null&&typeof p<"u"&&I!==null&&typeof I<"u"&&(p.time=(0,It.default)(new Date,"hh:MM:ss"),I=I.concat(p)),t.update(l=>{l.queryHistory=I})},b=s=>{let T=t.get();if(!T.currentPage)return;let A=s.row<0?0:s.row>=T.currentPage.total-Se?Math.max(T.currentPage.total-Se,0):s.row;t.update(I=>{I.pageRowNumber=A,I.currentPage=null})},P=()=>{t.update(s=>{s.outdatedDatabaseList=!0,s.currentPage=null})},U=s=>{r.update(T=>{let A=T.indexOf(s);A<0?T.push(s):T.splice(A,1)})},M=s=>{let T=t.get();t.set({...T,currentSort:s.sortOrder,pageRowNumber:0,currentPage:null})},B=s=>{let T=t.get();t.set({...T,query:{value:s.value,time:(0,It.default)(new Date,"hh:MM:ss")}})},w=s=>{t.update(T=>{T.currentPage!==null&&(T.currentPage.highlightedRows=s.map(parseInt))})},Y=s=>{t.update(T=>{T.queryResult&&(T.queryResult.table&&(T.queryResult.table.highlightedRows=s.map(parseInt)),T.queryResult.id=null,T.queryResult.count=null)})};return t.subscribe((s,T)=>{let A=s.selectedDatabase,I=s.selectedDatabaseTable;s.viewMode==="data"&&s.currentPage===null&&A&&I&&e.send("getTableData",{count:Se,databaseId:s.selectedDatabase,order:s.currentSort?.key,reverse:(s.currentSort?.direction||"up")==="down",table:I,start:s.pageRowNumber}).then(p=>{g({databaseId:A,table:I,columns:p.columns,rows:p.values,start:p.start,count:p.count,total:p.total,highlightedRows:[]})}).catch(p=>{t.update(l=>{l.error=p})}),s.currentStructure===null&&A&&I&&e.send("getTableStructure",{databaseId:A,table:I}).then(p=>{v({databaseId:A,table:I,columns:p.structureColumns,rows:p.structureValues,indexesColumns:p.indexesColumns,indexesValues:p.indexesValues})}).catch(p=>{t.update(l=>{l.error=p})}),s.viewMode==="tableInfo"&&s.currentStructure===null&&A&&I&&e.send("getTableInfo",{databaseId:A,table:I}).then(p=>{L({tableInfo:p.definition})}).catch(p=>{t.update(l=>{l.error=p})}),!T.outdatedDatabaseList&&s.outdatedDatabaseList&&e.send("databaseList",{}).then(p=>{n({databases:p})}).catch(p=>console.error("databaseList request failed:",p))}),e.onConnect(()=>{e.send("databaseList",{}).then(T=>{n({databases:T})}).catch(T=>console.error("initial databaseList request failed:",T));let s=localStorage.getItem(aa);if(s)try{r.set(JSON.parse(s))}catch{console.error("Failed to load favorite queries from local storage")}}),{state:t,favoritesState:r,updateDatabases:n,updateSelectedDatabase:o,updateSelectedDatabaseTable:E,updateViewMode:d,updatePage:g,updateStructure:v,displaySelect:f,displayInsert:N,displayUpdateDelete:c,updateTableInfo:L,nextPage:C,previousPage:q,execute:G,goToRow:b,refresh:P,addOrRemoveQueryToFavorites:U,sortByChanged:M,updateQuery:B,pageHighlightedRowsChanged:w,queryHighlightedRowsChanged:Y}}
