"use strict";var m=Object.create;var p=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var x=(e,s)=>{for(var t in s)p(e,t,{get:s[t],enumerable:!0})},c=(e,s,t,o)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of y(s))!f.call(e,a)&&a!==t&&p(e,a,{get:()=>s[a],enumerable:!(o=u(s,a))||o.enumerable});return e};var C=(e,s,t)=>(t=e!=null?m(M(e)):{},c(s||!e||!e.__esModule?p(t,"default",{value:e,enumerable:!0}):t,e)),h=e=>c(p({},"__esModule",{value:!0}),e);var w={};x(w,{Component:()=>v,plugin:()=>l});module.exports=h(w);var n=require("flipper-plugin"),r=require("antd"),g=C(require("react")),{Text:d}=r.Typography;function l(e){let s=(0,n.createState)(""),t=(0,n.createState)("Type a message below to see it displayed on the mobile app"),o=(0,n.createState)("");e.onMessage("triggerNotification",({id:i})=>{e.showNotification({id:"test-notification:"+i,message:"Example Notification",severity:"warning",title:"Notification: "+i})}),e.onMessage("displayMessage",({msg:i})=>{s.set(i)});async function a(){if(e.isConnected)try{let i=await e.send("displayMessage",{message:o.get()||"Weeeee!"});t.set(i.greeting||"Nice"),o.set("")}catch(i){console.warn("Error returned from client",i),r.message.error("Failed to get response from client "+i)}}return{sendMessage:a,prompt:t,nextMessage:o,receivedMessage:s}}function v(){let e=(0,n.usePlugin)(l),s=(0,n.useValue)(e.prompt),t=(0,n.useValue)(e.nextMessage),o=(0,n.useValue)(e.receivedMessage);return g.default.createElement(n.Layout.Container,{pad:!0,center:!0},g.default.createElement(n.Layout.Container,{pad:!0,gap:!0,width:400},g.default.createElement(d,null,s),g.default.createElement(r.Input,{placeholder:"Message",value:t,onChange:a=>{e.nextMessage.set(a.target.value)}}),g.default.createElement(r.Button,{onClick:()=>{e.sendMessage()}},"Send"),o&&g.default.createElement(d,null," ",o," ")))}
