"use strict";var g=Object.create;var u=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var f=(n,e)=>{for(var s in e)u(n,s,{get:e[s],enumerable:!0})},x=(n,e,s,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of y(e))!C.call(n,a)&&a!==s&&u(n,a,{get:()=>e[a],enumerable:!(i=m(e,a))||i.enumerable});return n};var v=(n,e,s)=>(s=n!=null?g(h(n)):{},x(e||!n||!n.__esModule?u(s,"default",{value:n,enumerable:!0}):s,n)),E=n=>x(u({},"__esModule",{value:!0}),n);var T={};f(T,{Component:()=>L,plugin:()=>S});module.exports=E(T);var d=v(require("react")),t=require("antd"),r=require("flipper-plugin");function S(n){let e=(0,r.createState)([]),s=(0,r.createState)(""),i=(0,r.createState)(!1);n.onConnect(()=>{i.set(!0),n.send("getSandbox",void 0).then(o=>{e.set(o),i.set(!1)}).catch(o=>{console.error("[sandbox] getSandbox call failed:",o),i.set(!1),p(o)})});let a=o=>{n.send("setSandbox",{sandbox:o}).then(l=>{l.result?b("Update to "+o+" successful"):p("Update to "+o+" failed")}).catch(l=>{console.error("[sandbox] setSandbox call failed:",l),p(l)})},c=o=>{s.set(o.target.value)},b=o=>{t.message.success(o)},p=o=>{t.message.error(o)};return{client:n,onChangeSandbox:c,onSendSandboxEnvironment:a,customSandbox:s,sandboxes:e,isLoadingSandboxes:i}}function L(){let n=(0,r.usePlugin)(S),e=(0,r.useValue)(n.customSandbox),s=(0,r.useValue)(n.sandboxes),i=(0,r.useValue)(n.isLoadingSandboxes);return d.default.createElement(r.Layout.Container,{center:!0,pad:"medium"},d.default.createElement(r.Layout.Container,{center:!0,gap:!0,style:{width:"350px"}},d.default.createElement(t.Typography.Text,{type:"secondary"},"Select the environment:"),d.default.createElement(t.Spin,{spinning:i}),s.map(a=>d.default.createElement(t.Button,{key:a.value,onClick:()=>n.onSendSandboxEnvironment(a.value),style:{width:"100%"}},a.name)),d.default.createElement(t.Typography.Text,{type:"secondary"},"Provide custom Sandbox URL"),d.default.createElement(t.Input.Group,{compact:!0},d.default.createElement(t.Input,{style:{width:"calc(100% - 80px)"},placeholder:"e.g. unixname.sb.facebook.com",onChange:n.onChangeSandbox,onKeyPress:a=>{a.key==="Enter"&&n.onSendSandboxEnvironment(e)}}),d.default.createElement(t.Button,{type:"primary",onClick:()=>n.onSendSandboxEnvironment(e),disabled:e==null},"Submit"))))}
